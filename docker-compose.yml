version: '3'
services:
  gem:
    build:
      context: .
      dockerfile: .docker/ruby/Dockerfile
    volumes:
      - .:/ires:cached
      - bundle:/usr/local/bundle
      - shared:/shared
    tty: true
  so:
    build:
      context: .
      dockerfile: .docker/go/Dockerfile
    volumes:
      - ./ext:/go/src/ires
      - go:/go
      - shared:/go/src/ires/shared
    tty: true

volumes:
  bundle:
  go:
  shared: